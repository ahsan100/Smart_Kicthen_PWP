'''
CREATED on 24 May 2016
Provides WEB API TESTING
'''
import unittest, copy
import json

import flask

import resources as resources
import database as database

DB_PATH = 'db/forum_test.db'
ENGINE = database.Engine(DB_PATH)

COLLECTIONJSON = "application/vnd.collection+json"
HAL = "application/hal+json"
MEMBER_PROFILE ="/profiles/member-profile"
INVENTORY_PROFILE = "/profiles/inventory"
RECIPE_PROFILE = "/profiles/recipe"
LIST_PROFILE = "/profiles/listproduct"
GROUP_PROFILE ="/profiles/group"
LOCATION_PROFILE ="/profiles/location"
SEARCH_PROFILE ="/profiles/search"
MONITOR_PROFILE ="/profiles/monitor"

resources.app.config['TESTING'] = True

resources.app.config['SERVER_NAME'] = 'localhost:5000'

resources.app.config.update({'Engine': ENGINE})

initial_members = 5
initial_groups = 3
initial_inventory = 14
initial_recipe = 5

class ResourcesAPITestCase(unittest.TestCase):

	@classmethod
	def setUpClass(cls):
		print "Testing Start: ", cls.__name__
		Engine.remove_db()
		Engine.create_table()

	@classmethod
	def tearDownClass(cls):
		print "Testing Ended : ", cls.__name__
		Engine.remove_db()

	def setUp(self):
		Engine.data_table()
		self.connection = Engine.connect()

	def tearDown(self):
		self.connection.close()
		Engine.clear_table()